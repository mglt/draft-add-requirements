



ADD                                                               C. Box
Internet-Draft                                                        BT
Intended status: Informational                            12 August 2020
Expires: 13 February 2021


                Requirements for Adaptive DNS Discovery
                     draft-add-requirements-latest

Abstract

   Adaptive DNS Discovery is chartered to define mechanisms that allow
   clients to discover and select encrypted DNS resolvers.  This
   document seeks to provide a set of use cases and requirements that
   proposed mechanisms should address.

Discussion Venues

   This note is to be removed before publishing as an RFC.

   Source for this draft and an issue tracker can be found at
   https://github.com/ietf-wg-add/draft-add-requirements.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on 13 February 2021.

Copyright Notice

   Copyright (c) 2020 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents (https://trustee.ietf.org/
   license-info) in effect on the date of publication of this document.



Box                     Expires 13 February 2021                [Page 1]

Internet-Draft                   ADDREQ                      August 2020


   Please review these documents carefully, as they describe your rights
   and restrictions with respect to this document.  Code Components
   extracted from this document must include Simplified BSD License text
   as described in Section 4.e of the Trust Legal Provisions and are
   provided without warranty as described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Conventions and Definitions . . . . . . . . . . . . . . . . .   3
   3.  Discovery of associated resolvers . . . . . . . . . . . . . .   3
     3.1.  Discover resolvers associated with one declared by an
           attached network  . . . . . . . . . . . . . . . . . . . .   4
       3.1.1.  Unencrypted forwarder . . . . . . . . . . . . . . . .   4
       3.1.2.  Encrypted forwarder . . . . . . . . . . . . . . . . .   4
     3.2.  Discover resolvers associated with a manually-configured
           resolver  . . . . . . . . . . . . . . . . . . . . . . . .   5
     3.3.  Discover resolvers associated with a VPN-configurated
           resolver  . . . . . . . . . . . . . . . . . . . . . . . .   5
   4.  Discovery of limited domain resolvers . . . . . . . . . . . .   5
     4.1.  Discover a mapping between a locally-hosted domain and a
           resolver  . . . . . . . . . . . . . . . . . . . . . . . .   6
       4.1.1.  Walled garden content . . . . . . . . . . . . . . . .   6
       4.1.2.  Locally-cached content  . . . . . . . . . . . . . . .   6
       4.1.3.  Private enterprise names  . . . . . . . . . . . . . .   6
     4.2.  Discover a mapping between a public domain and a
           resolver  . . . . . . . . . . . . . . . . . . . . . . . .   7
   5.  Requirements Summary  . . . . . . . . . . . . . . . . . . . .   7
   6.  Security Considerations . . . . . . . . . . . . . . . . . . .   7
   7.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   7
   8.  Normative References  . . . . . . . . . . . . . . . . . . . .   7
   Acknowledgments . . . . . . . . . . . . . . . . . . . . . . . . .   8
   Author's Address  . . . . . . . . . . . . . . . . . . . . . . . .   8

1.  Introduction

   The Adaptive DNS Discovery (ADD) Working Group is chartered to define
   mechanisms that allow clients to discover and select encrypted DNS
   resolvers in a wide variety of network environments.  This document
   seeks to provide a set of use cases and requirements that proposed
   mechanisms should address.  They can do this either by providing a
   solution, or by explicitly stating why it is not in scope.









Box                     Expires 13 February 2021                [Page 2]

Internet-Draft                   ADDREQ                      August 2020


   Use cases are described between Section 3 and Section 4.2.  Each use
   case contains a narrative and a set of requirements that apply in
   that case.  Each is identified as "Ra.b" where a is the requirement
   group number and b is the number within that group.  Both a and b are
   integers starting with 1.  A summary of all requirements in listed in
   Section 5.

2.  Conventions and Definitions

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in BCP
   14 [RFC2119] [RFC8174] when, and only when, they appear in all
   capitals, as shown here.

3.  Discovery of associated resolvers

   A client may begin with information from the attached networks, and/
   or resolvers known from configuration.  This information may be used
   to then discover one or more associated or equivalent encrypted
   resolvers.  These are expected to be operated by the same entity that
   provides the resolver the client started with, but may not have
   identical behaviour.  For example one entity may offer a set of
   encrypted resolvers with different levels of filtering or proximity.

   +=============+=====================================================+
   | Requirement | Description                                         |
   +=============+=====================================================+
   | R1.1        | There must be a mechanism for a client              |
   |             | to learn the set of encrypted resolvers             |
   |             | that are associated with a resolver                 |
   |             | that is known only by its IP address.               |
   +-------------+-----------------------------------------------------+
   | R1.2        | Discovery must be possible even when                |
   |             | the IP address is only valid locally.               |
   +-------------+-----------------------------------------------------+
   | R1.3        | More to be added                                    |
   +-------------+-----------------------------------------------------+

                                  Table 1











Box                     Expires 13 February 2021                [Page 3]

Internet-Draft                   ADDREQ                      August 2020


3.1.  Discover resolvers associated with one declared by an attached
      network

   During network attach, networks frequently announce a resolver that
   they recommend clients should use.  This could be through DHCP, RA,
   PPP, PCO, or another mechanism.  Historically this is usually a Do53
   resolver, declared simply by its IP address.  However it could also
   be a richer set of information.

                   +=============+=====================+
                   | Requirement | Description         |
                   +=============+=====================+
                   | R2.1        | Example requirement |
                   +-------------+---------------------+

                                  Table 2

3.1.1.  Unencrypted forwarder

   If the resolver announced by the network is a classic unencrypted
   forwarder, it is frequently the case that such forwarders are
   difficult to upgrade to support encrypted operation.  In such cases
   it is useful for the resolver provider to be able to declare which
   encrypted resolvers they provide, and for the client to be able to
   discover them.  If the client wishes to, it can then use one of those
   resolvers and bypass the local forwarder.

                   +=============+=====================+
                   | Requirement | Description         |
                   +=============+=====================+
                   | R3.1        | Example requirement |
                   +-------------+---------------------+

                                  Table 3

3.1.2.  Encrypted forwarder

   If a subset of local resolvers supports encrypted DNS, the client may
   not initially be aware that its local resolver supports it.
   Discovering this may require communication with the local resolver,
   or an upstream resolver, over an unencrypted transport.  Once
   discovered, the local encrypted forwarder may be selected by the
   client, gaining the benefits of encryption while retaining the
   benefits of a local caching forwarder with knowledge of the local
   topology.






Box                     Expires 13 February 2021                [Page 4]

Internet-Draft                   ADDREQ                      August 2020


                   +=============+=====================+
                   | Requirement | Description         |
                   +=============+=====================+
                   | R4.1        | Example requirement |
                   +-------------+---------------------+

                                  Table 4

3.2.  Discover resolvers associated with a manually-configured resolver

   A client with manual configuration directing it to use a particular
   resolver will generally use that resolver.  However if that
   communication is unencrypted, it is beneficial for the client to
   learn which associated resolvers are offered by the same entity and
   provide the same semantics.

                   +=============+=====================+
                   | Requirement | Description         |
                   +=============+=====================+
                   | R5.1        | Example requirement |
                   +-------------+---------------------+

                                  Table 5

3.3.  Discover resolvers associated with a VPN-configurated resolver

   Narrative required.

                   +=============+=====================+
                   | Requirement | Description         |
                   +=============+=====================+
                   | R6.1        | Example requirement |
                   +-------------+---------------------+

                                  Table 6

4.  Discovery of limited domain resolvers

   Narrative required.

                   +=============+=====================+
                   | Requirement | Description         |
                   +=============+=====================+
                   | R7.1        | Example requirement |
                   +-------------+---------------------+

                                  Table 7




Box                     Expires 13 February 2021                [Page 5]

Internet-Draft                   ADDREQ                      August 2020


4.1.  Discover a mapping between a locally-hosted domain and a resolver

   Narrative required.

                   +=============+=====================+
                   | Requirement | Description         |
                   +=============+=====================+
                   | R8.1        | Example requirement |
                   +-------------+---------------------+

                                  Table 8

4.1.1.  Walled garden content

   Narrative required.

                   +=============+=====================+
                   | Requirement | Description         |
                   +=============+=====================+
                   | R9.1        | Example requirement |
                   +-------------+---------------------+

                                  Table 9

4.1.2.  Locally-cached content

   Narrative required.

                   +=============+=====================+
                   | Requirement | Description         |
                   +=============+=====================+
                   | R10.1       | Example requirement |
                   +-------------+---------------------+

                                  Table 10

4.1.3.  Private enterprise names

   Narrative required.

                   +=============+=====================+
                   | Requirement | Description         |
                   +=============+=====================+
                   | R11.1       | Example requirement |
                   +-------------+---------------------+

                                  Table 11




Box                     Expires 13 February 2021                [Page 6]

Internet-Draft                   ADDREQ                      August 2020


4.2.  Discover a mapping between a public domain and a resolver

   Narrative required.

                   +=============+=====================+
                   | Requirement | Description         |
                   +=============+=====================+
                   | R12.1       | Example requirement |
                   +-------------+---------------------+

                                  Table 12

5.  Requirements Summary

   This sections lists the complete set of requirements described above,
   for ease of reference.

   +=============+=====================================================+
   | Requirement | Description                                         |
   +=============+=====================================================+
   | R1.1        | There must be a mechanism for a client              |
   |             | to learn the set of encrypted resolvers             |
   |             | that are associated with a resolver                 |
   |             | that is known only by its IP address.               |
   +-------------+-----------------------------------------------------+
   | R1.2        | Discovery must be possible even when                |
   |             | the IP address is only valid locally.               |
   +-------------+-----------------------------------------------------+
   | R1.3        | More to be added                                    |
   +-------------+-----------------------------------------------------+
   | R2.1        | Example requirement                                 |
   +-------------+-----------------------------------------------------+
   | R3.1        | Example requirement                                 |
   +-------------+-----------------------------------------------------+

                                  Table 13

6.  Security Considerations

   All security considerations relevant to a particular use case are
   described under that section.  Additional consideration common to all
   of them are described here.

7.  IANA Considerations

   This document has no IANA actions.

8.  Normative References



Box                     Expires 13 February 2021                [Page 7]

Internet-Draft                   ADDREQ                      August 2020


   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC8174]  Leiba, B., "Ambiguity of Uppercase vs Lowercase in RFC
              2119 Key Words", BCP 14, RFC 8174, DOI 10.17487/RFC8174,
              May 2017, <https://www.rfc-editor.org/info/rfc8174>.

Acknowledgments

   This document was started based on contributions during the ADD
   meeting of IETF108, and on the list (TODO: add names).

   More authors are required!  Please advise if you want to be one.
   Alternatively contribute on the list, start a github issue or submit
   a pull request.

Author's Address

   Chris Box
   BT
   2000 Park Avenue
   Bristol
   United Kingdom

   Email: chris.box@bt.com
























Box                     Expires 13 February 2021                [Page 8]
